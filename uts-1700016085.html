<!DOCTYPE html>
<html>
<head>
	<title>snake</title>
</head>
<style type="text/css">
	body{
		background-image: url("gambar.jpg");
	}
</style>
<body>
		<h2> Ujian Tengah Semester Multimedia Online 2019 </h2>
		<h3> Nita Rosiana
		<br> 1700016085 </h3>

		<h2> Snack Gamae </h2>
	

<canvas id="canvas" width="600" height="400"></canvas>
<script>
	window.onload=function() {
		canv=document.getElementById("canvas");
		ctx=canv.getContext("2d");
		document.addEventListener("keydown",keyPush);
		setInterval(game,1100/10);
	}
	px=py=10;
	gs=tc=20;
	ay=ax=15;
	xv=yv=0;
	trail=[];
	tail = 5;
	function game() {
		px+=xv;
		py+=yv;
		if(px<0) {
			px= tc-1;
		}
		if(px>tc-1) {
			px= 0;
		}
		if(py<0) {
			py= tc-1;
		}
		if(py>tc-1) {
			py= 0;
		}
		ctx.fillStyle="magenta";
		ctx.fillRect(0,0,canv.width,canv.height);

		ctx.fillStyle="white";
		for(var i=0;i<trail.length;i++) {
			ctx.fillRect(trail[i].x*gs,trail[i].y*gs,gs-2,gs-2);
			if(trail[i].x==px && trail[i].y==py) {
				tail = 5;
			}
		}
		trail.push({x:px,y:py});
		while(trail.length>tail) {
			trail.shift();
		}

		if(ax==px && ay==py) {
			tail++;
			ax=Math.floor(Math.random()*tc);
			ay=Math.floor(Math.random()*tc);
		}

		ctx.fillStyle="magenta";
		ctx.fillRect(ax*gs,ay*gs,gs-2,gs-2);
	}

	function keyPush(evt) {
		switch(evt.keyCode) {
			case 37:
				xv=-1;yv=0;
				break;
			case 38:
				xv=0;yv=-1;
				break;
			case 39:
				xv=1;yv=0;
				break;
			case 40:
				xv=0;yv=1;
				break;
		}
	}

</script>
</body>
</html